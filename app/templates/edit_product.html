{% extends "base.html" %} 
{% block content %}
<h3>Редактирование продукта</h3>
<form method="post" enctype = 'multipart/form-data' action="{{ url_for( 'edit_product') }}">

    <input type="hidden" name="id" value="{{product.id}}">
    <div class="form-row">

        <div class="form-group col-md-5">
            <label>Название продукта</label>
            <input class="form-control" type="text" name="prod_name" maxlength='50' required="" value='{{product.name}}'>
        </div>

        <div class="form-group col-md-4">
            <label>Выберите фабрику</label>
            <select name="factory" class="form-control">
            <option selected>{{product.factory}}</option>
                    {% for item in factories  %}
                        <option>{{item}}</option>
                    {% endfor %}
                    </select>
        </div>

        <div class="form-group col-md-3">
            <label>Выберите тип продукта</label>
            <select name="type" class="form-control">
            <option selected>{{product.product_type}}</option>
                    {% for item in types  %}
                        <option>{{item}}</option>
                    {% endfor %}
            </select>
        </div>

    </div>

    <div class="form-row">

        <div class="form-group col-md-4">
            <label>Вес продукта</label>
            <input class="form-control" min = 1 type="number" name="weight" required="" value='{{product.weight}}'>
        </div>

        <div class="form-group col-md-4">
            <label>Рамерность веса</label>
            <select name="dimension" class="form-control">
            <option selected>{{product.dimension}}</option>
                        <option>гр</option>
                        <option>кг</option>
                        <option>л</option>
                        <option>мл</option>
            </select>
        </div>

        <div class="form-group col-md-4">
            <label>Калории (ккал)</label>
            <input class="form-control" min = 1 type="number"  name="calorie_content" required="" value='{{product.calories}}'>
        </div>

    </div>

    <div class="form-row">

        <div class="form-group col-md-4">
            <label>Срок годности продукта</label>
            <input class="form-control" min = 1 type="number" name="expitation_value" required="" value='{{product.expiration}}'>
        </div>

        <div class="form-group col-md-4">
            <label>Рамерность срока годности</label>
            <select name="expitation_size" class="form-control">
                        <option selected>час</option>
                        <option>день</option>
                        <option>месяц</option>
                        <option>год</option>
            </select>
        </div>

        <div class="form-group col-md-4">
        <label>Выберите ингредиенты</label>
            <div class="checkselect" class="form-control">
            {% for item in product.ingridients %}
            <label><input type="checkbox" name="ingredient[]" value="{{item}}" checked>{{item}}</label>

            {% endfor %}

            {% for item in ingredients  %}
                    <label><input type="checkbox" name="ingredient[]" value="{{item}}">{{item}}</label>
            {% endfor %}
                </div>
                <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/mltselect.css')}}">
                <script src="/static/js/mltselect.js"></script>
            </div>

    </div>

    <div class="form-group">
        <label >Выберите картинку продукта</label>
        <input type="file" class="form-control-file" name="picture" value='{{product.picture}}'>
    </div>

        <button type="submit" class="btn btn-primary">Сохранить изменения</button>
</form>
{% endblock %}